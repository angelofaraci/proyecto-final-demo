<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/prototipoproyectofinal/MainActivity.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/prototipoproyectofinal/MainActivity.kt" />
              <option name="originalContent" value="package com.example.prototipoproyectofinal&#10;&#10;import android.os.Bundle&#10;import androidx.activity.ComponentActivity&#10;import androidx.activity.compose.setContent&#10;import androidx.activity.enableEdgeToEdge&#10;import androidx.compose.animation.animateColorAsState&#10;import androidx.compose.animation.core.animateFloatAsState&#10;import androidx.compose.foundation.Canvas&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.layout.BoxWithConstraints&#10;import androidx.compose.foundation.shape.CircleShape&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.material3.Card&#10;import androidx.compose.material3.CardDefaults&#10;import androidx.compose.material3.MaterialTheme&#10;import androidx.compose.material3.Surface&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.LaunchedEffect&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.runtime.mutableStateOf&#10;import androidx.compose.runtime.remember&#10;import androidx.compose.runtime.setValue&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.geometry.Offset&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.graphics.StrokeCap&#10;import androidx.compose.ui.graphics.graphicsLayer&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.compose.ui.unit.Dp&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import com.example.prototipoproyectofinal.ui.theme.PrototipoProyectoFinalTheme&#10;&#10;// Simple navigation states for this prototype&#10;private enum class Screen {&#10;    Courses,&#10;    Units,&#10;    Lessons,&#10;    Exercise&#10;}&#10;&#10;class MainActivity : ComponentActivity() {&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        enableEdgeToEdge()&#10;        setContent {&#10;            PrototipoProyectoFinalTheme {&#10;                Surface(&#10;                    modifier = Modifier&#10;                        .fillMaxSize()&#10;                        .background(Color.White),&#10;                    color = Color.Transparent&#10;                ) {&#10;                    var currentScreen by remember { mutableStateOf(Screen.Courses) }&#10;&#10;                    when (currentScreen) {&#10;                        Screen.Courses -&gt; CoursesScreen(&#10;                            onFirstYearClick = { currentScreen = Screen.Units }&#10;                        )&#10;&#10;                        Screen.Units -&gt; UnitsScreen(&#10;                            onBackClick = { currentScreen = Screen.Courses },&#10;                            onFirstUnitClick = { currentScreen = Screen.Lessons }&#10;                        )&#10;&#10;                        Screen.Lessons -&gt; LessonsScreen(&#10;                            onBackClick = { currentScreen = Screen.Units },&#10;                            onLec1Click = { currentScreen = Screen.Exercise }&#10;                        )&#10;&#10;                        Screen.Exercise -&gt; ExerciseScreen(&#10;                            onBackClick = { currentScreen = Screen.Lessons }&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun CoursesScreen(&#10;    modifier: Modifier = Modifier,&#10;    onFirstYearClick: () -&gt; Unit = {}&#10;) {&#10;    Box(&#10;        modifier = modifier&#10;            .fillMaxSize()&#10;            .background(Color.White)&#10;            .padding(horizontal = 16.dp, vertical = 24.dp),&#10;        contentAlignment = Alignment.TopStart&#10;    ) {&#10;        Card(&#10;            modifier = Modifier&#10;                .fillMaxWidth(),&#10;            shape = RoundedCornerShape(24.dp),&#10;            colors = CardDefaults.cardColors(&#10;                containerColor = Color(0xFFF5F5F5)&#10;            ),&#10;            elevation = CardDefaults.cardElevation(defaultElevation = 0.dp)&#10;        ) {&#10;            Column(modifier = Modifier.padding(16.dp)) {&#10;                Text(&#10;                    text = &quot;Cursos&quot;,&#10;                    style = MaterialTheme.typography.titleMedium.copy(fontWeight = FontWeight.SemiBold),&#10;                    color = Color.Black&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(16.dp))&#10;&#10;                CoursePill(&#10;                    text = &quot;Matemáticas - 1er Año&quot;,&#10;                    textColor = Color(0xFFD32F2F),&#10;                    onClick = onFirstYearClick&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(8.dp))&#10;&#10;                CoursePill(&#10;                    text = &quot;Matemáticas - 2do Año&quot;,&#10;                    onClick = { /* TODO: navigate to 2do Año */ }&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(8.dp))&#10;&#10;                CoursePill(&#10;                    text = &quot;Matemáticas - 3er Año&quot;,&#10;                    onClick = { /* TODO: navigate to 3er Año */ }&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun UnitsScreen(&#10;    modifier: Modifier = Modifier,&#10;    onBackClick: () -&gt; Unit = {},&#10;    onFirstUnitClick: () -&gt; Unit = {}&#10;) {&#10;    Box(&#10;        modifier = modifier&#10;            .fillMaxSize()&#10;            .background(Color.White)&#10;            .padding(horizontal = 16.dp, vertical = 24.dp),&#10;        contentAlignment = Alignment.TopStart&#10;    ) {&#10;        Card(&#10;            modifier = Modifier&#10;                .fillMaxWidth(),&#10;            shape = RoundedCornerShape(24.dp),&#10;            colors = CardDefaults.cardColors(&#10;                containerColor = Color(0xFFF5F5F5)&#10;            ),&#10;            elevation = CardDefaults.cardElevation(defaultElevation = 0.dp)&#10;        ) {&#10;            Column(modifier = Modifier.padding(16.dp)) {&#10;                Text(&#10;                    text = &quot;← Volver&quot;,&#10;                    style = MaterialTheme.typography.bodyMedium,&#10;                    color = Color(0xFF6200EE),&#10;                    modifier = Modifier&#10;                        .clickable(onClick = onBackClick)&#10;                        .padding(bottom = 16.dp)&#10;                )&#10;&#10;                Text(&#10;                    text = &quot;Unidades&quot;,&#10;                    style = MaterialTheme.typography.titleMedium.copy(fontWeight = FontWeight.SemiBold),&#10;                    color = Color.Black&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(16.dp))&#10;&#10;                CoursePill(&#10;                    text = &quot;Unidad 1 - N° Enteros&quot;,&#10;                    textColor = Color(0xFFD32F2F),&#10;                    onClick = onFirstUnitClick&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(8.dp))&#10;&#10;                CoursePill(&#10;                    text = &quot;Unidad 2 - Ecuaciones&quot;,&#10;                    onClick = { /* TODO: navigate to Unidad 2 */ }&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(8.dp))&#10;&#10;                CoursePill(&#10;                    text = &quot;Unidad 3 - Geometría&quot;,&#10;                    onClick = { /* TODO: navigate to Unidad 3 */ }&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun LessonsScreen(&#10;    modifier: Modifier = Modifier,&#10;    onBackClick: () -&gt; Unit = {},&#10;    onLec1Click: () -&gt; Unit = {}&#10;) {&#10;    Column(&#10;        modifier = modifier&#10;            .fillMaxSize()&#10;            .background(Color.White)&#10;            .padding(horizontal = 16.dp, vertical = 24.dp)&#10;    ) {&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.SpaceBetween,&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Text(&#10;                text = &quot;←&quot;,&#10;                fontSize = 24.sp,&#10;                modifier = Modifier.clickable(onClick = onBackClick)&#10;            )&#10;&#10;            // Right-side icon placeholder (stats icon) can be added later if desired&#10;        }&#10;&#10;        Spacer(modifier = Modifier.height(16.dp))&#10;&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .weight(1f),&#10;            contentAlignment = Alignment.Center&#10;        ) {&#10;            LessonPath(onLec1Click = onLec1Click)&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun LessonPath(&#10;    modifier: Modifier = Modifier,&#10;    onLec1Click: () -&gt; Unit = {}&#10;) {&#10;    // Normalized (0f..1f) positions along the path&#10;    val points = listOf(&#10;        Offset(0.5f, 0.1f),  // top start of vertical segment&#10;        Offset(0.5f, 0.25f), // corner for Lec 5&#10;        Offset(0.3f, 0.35f), // corner for Lec 4&#10;        Offset(0.55f, 0.5f), // corner for Lec 3&#10;        Offset(0.3f, 0.7f),  // corner for Lec 2&#10;        Offset(0.55f, 0.9f)  // corner for Lec 1&#10;    )&#10;&#10;    BoxWithConstraints(modifier = modifier.fillMaxSize()) {&#10;        val boxWidth = maxWidth&#10;        val boxHeight = maxHeight&#10;&#10;        // Draw the polyline&#10;        Canvas(modifier = Modifier.fillMaxSize()) {&#10;            val w = size.width&#10;            val h = size.height&#10;            val strokeWidth = 2.dp.toPx()&#10;&#10;            val absPoints = points.map { Offset(it.x * w, it.y * h) }&#10;&#10;            for (i in 0 until absPoints.lastIndex) {&#10;                drawLine(&#10;                    color = Color.Black,&#10;                    start = absPoints[i],&#10;                    end = absPoints[i + 1],&#10;                    strokeWidth = strokeWidth,&#10;                    cap = StrokeCap.Round&#10;                )&#10;            }&#10;        }&#10;&#10;        // Place lesson nodes centered at each vertex (skip very top index 0)&#10;        LessonNode(&quot;Lec 5&quot;, points[1], boxWidth, boxHeight)&#10;        LessonNode(&quot;Lec 4&quot;, points[2], boxWidth, boxHeight)&#10;        LessonNode(&quot;Lec 3&quot;, points[3], boxWidth, boxHeight)&#10;        LessonNode(&quot;Lec 2&quot;, points[4], boxWidth, boxHeight)&#10;        LessonNode(&quot;Lec 1&quot;, points[5], boxWidth, boxHeight, onClick = onLec1Click)&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun LessonNode(&#10;    label: String,&#10;    normalizedPos: Offset,&#10;    boxWidth: Dp,&#10;    boxHeight: Dp,&#10;    onClick: (() -&gt; Unit)? = null&#10;) {&#10;    val circleSize = 64.dp&#10;&#10;    Box(&#10;        modifier = Modifier&#10;            .offset(&#10;                x = boxWidth * normalizedPos.x - circleSize / 2,&#10;                y = boxHeight * normalizedPos.y - circleSize / 2&#10;            )&#10;            .size(circleSize)&#10;            .then(&#10;                if (onClick != null) {&#10;                    Modifier.clickable(onClick = onClick)&#10;                } else {&#10;                    Modifier&#10;                }&#10;            )&#10;    ) {&#10;        Surface(&#10;            shape = CircleShape,&#10;            color = Color(0xFFE0E0E0)&#10;        ) {&#10;            Box(&#10;                modifier = Modifier.fillMaxSize(),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                Text(text = label, style = MaterialTheme.typography.bodyMedium)&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun ExerciseScreen(&#10;    modifier: Modifier = Modifier,&#10;    onBackClick: () -&gt; Unit = {}&#10;) {&#10;    val correctAnswer = 5&#10;    var selectedAnswer by remember { mutableStateOf&lt;Int?&gt;(null) }&#10;    var lastWrongAnswer by remember { mutableStateOf&lt;Int?&gt;(null) }&#10;&#10;    // Reset wrong answer feedback after a short delay&#10;    LaunchedEffect(lastWrongAnswer) {&#10;        if (lastWrongAnswer != null) {&#10;            kotlinx.coroutines.delay(600)&#10;            lastWrongAnswer = null&#10;        }&#10;    }&#10;&#10;    Column(&#10;        modifier = modifier&#10;            .fillMaxSize()&#10;            .background(Color.White)&#10;            .padding(horizontal = 16.dp, vertical = 24.dp)&#10;    ) {&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.SpaceBetween,&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Text(&#10;                text = &quot;←&quot;,&#10;                fontSize = 24.sp,&#10;                modifier = Modifier.clickable(onClick = onBackClick)&#10;            )&#10;        }&#10;&#10;        Spacer(modifier = Modifier.height(24.dp))&#10;&#10;        Text(&#10;            text = &quot;Selecciona el recuadro correcto&quot;,&#10;            style = MaterialTheme.typography.titleMedium,&#10;            modifier = Modifier.align(Alignment.CenterHorizontally)&#10;        )&#10;&#10;        Spacer(modifier = Modifier.height(24.dp))&#10;&#10;        Surface(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .height(100.dp),&#10;            shape = RoundedCornerShape(8.dp),&#10;            color = Color(0xFFE0E0E0),&#10;            shadowElevation = 0.dp&#10;        ) {&#10;            Box(&#10;                modifier = Modifier.fillMaxSize(),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                Text(&#10;                    text = &quot;2 + 3 = ?&quot;,&#10;                    style = MaterialTheme.typography.titleLarge&#10;                )&#10;            }&#10;        }&#10;&#10;        Spacer(modifier = Modifier.height(32.dp))&#10;&#10;        val answers = listOf(5, 6, 7, 8)&#10;&#10;        answers.forEach { value -&gt;&#10;            val isCorrect = value == correctAnswer&#10;            val isSelectedCorrect = selectedAnswer == value &amp;&amp; isCorrect&#10;            val isWrong = lastWrongAnswer == value&#10;&#10;            AnswerButton(&#10;                value = value,&#10;                isCorrectSelected = isSelectedCorrect,&#10;                isWrong = isWrong,&#10;                enabled = selectedAnswer != correctAnswer&#10;            ) {&#10;                if (selectedAnswer == correctAnswer) return@AnswerButton&#10;&#10;                if (isCorrect) {&#10;                    selectedAnswer = value&#10;                } else {&#10;                    lastWrongAnswer = value&#10;                }&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(12.dp))&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun AnswerButton(&#10;    value: Int,&#10;    isCorrectSelected: Boolean,&#10;    isWrong: Boolean,&#10;    enabled: Boolean,&#10;    onClick: () -&gt; Unit&#10;) {&#10;    val baseColor = Color(0xFF333333)&#10;    val targetColor = when {&#10;        isCorrectSelected -&gt; Color(0xFF4CAF50)&#10;        isWrong -&gt; Color(0xFFF44336)&#10;        else -&gt; baseColor&#10;    }&#10;&#10;    val backgroundColor by animateColorAsState(targetValue = targetColor, label = &quot;answerColor&quot;)&#10;&#10;    val targetScale = if (isCorrectSelected) 1.05f else 1f&#10;    val scale by animateFloatAsState(targetValue = targetScale, label = &quot;answerScale&quot;)&#10;&#10;    Surface(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .height(52.dp)&#10;            .graphicsLayer(scaleX = scale, scaleY = scale)&#10;            .then(&#10;                if (enabled) Modifier.clickable(onClick = onClick) else Modifier&#10;            ),&#10;        shape = RoundedCornerShape(8.dp),&#10;        color = backgroundColor,&#10;        shadowElevation = 0.dp&#10;    ) {&#10;        Box(&#10;            modifier = Modifier.fillMaxSize(),&#10;            contentAlignment = Alignment.Center&#10;        ) {&#10;            Text(&#10;                text = value.toString(),&#10;                style = MaterialTheme.typography.bodyLarge,&#10;                color = Color.White&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun CoursePill(&#10;    text: String,&#10;    modifier: Modifier = Modifier,&#10;    textColor: Color = Color.Black,&#10;    onClick: () -&gt; Unit&#10;) {&#10;    Surface(&#10;        modifier = modifier&#10;            .fillMaxWidth()&#10;            .heightIn(min = 40.dp)&#10;            .clickable(onClick = onClick),&#10;        shape = CircleShape,&#10;        color = Color(0xFFE0E0E0),&#10;        shadowElevation = 0.dp&#10;    ) {&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(horizontal = 16.dp, vertical = 10.dp),&#10;            contentAlignment = Alignment.Center&#10;        ) {&#10;            Text(&#10;                text = text,&#10;                style = MaterialTheme.typography.bodyMedium,&#10;                color = textColor&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Preview(showBackground = true, showSystemUi = true)&#10;@Composable&#10;fun CoursesScreenPreview() {&#10;    PrototipoProyectoFinalTheme {&#10;        CoursesScreen()&#10;    }&#10;}&#10;&#10;@Preview(showBackground = true, showSystemUi = true)&#10;@Composable&#10;fun UnitsScreenPreview() {&#10;    PrototipoProyectoFinalTheme {&#10;        UnitsScreen()&#10;    }&#10;}&#10;&#10;@Preview(showBackground = true, showSystemUi = true)&#10;@Composable&#10;fun LessonsScreenPreview() {&#10;    PrototipoProyectoFinalTheme {&#10;        LessonsScreen()&#10;    }&#10;}&#10;&#10;@Preview(showBackground = true, showSystemUi = true)&#10;@Composable&#10;fun ExerciseScreenPreview() {&#10;    PrototipoProyectoFinalTheme {&#10;        ExerciseScreen()&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.prototipoproyectofinal&#10;&#10;import android.os.Bundle&#10;import androidx.activity.ComponentActivity&#10;import androidx.activity.compose.setContent&#10;import androidx.activity.enableEdgeToEdge&#10;import androidx.compose.animation.animateColorAsState&#10;import androidx.compose.animation.core.animateFloatAsState&#10;import androidx.compose.foundation.Canvas&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.layout.BoxWithConstraints&#10;import androidx.compose.foundation.shape.CircleShape&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.material3.Card&#10;import androidx.compose.material3.CardDefaults&#10;import androidx.compose.material3.MaterialTheme&#10;import androidx.compose.material3.Surface&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.LaunchedEffect&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.runtime.mutableStateOf&#10;import androidx.compose.runtime.remember&#10;import androidx.compose.runtime.setValue&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.geometry.Offset&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.graphics.StrokeCap&#10;import androidx.compose.ui.graphics.graphicsLayer&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.compose.ui.unit.Dp&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import com.example.prototipoproyectofinal.ui.theme.PrototipoProyectoFinalTheme&#10;&#10;// Simple navigation states for this prototype&#10;private enum class Screen {&#10;    Courses,&#10;    Units,&#10;    Lessons,&#10;    Exercise&#10;}&#10;&#10;class MainActivity : ComponentActivity() {&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        enableEdgeToEdge()&#10;        setContent {&#10;            PrototipoProyectoFinalTheme {&#10;                Surface(&#10;                    modifier = Modifier&#10;                        .fillMaxSize()&#10;                        .background(Color.White),&#10;                    color = Color.Transparent&#10;                ) {&#10;                    var currentScreen by remember { mutableStateOf(Screen.Courses) }&#10;&#10;                    when (currentScreen) {&#10;                        Screen.Courses -&gt; CoursesScreen(&#10;                            onFirstYearClick = { currentScreen = Screen.Units }&#10;                        )&#10;&#10;                        Screen.Units -&gt; UnitsScreen(&#10;                            onBackClick = { currentScreen = Screen.Courses },&#10;                            onFirstUnitClick = { currentScreen = Screen.Lessons }&#10;                        )&#10;&#10;                        Screen.Lessons -&gt; LessonsScreen(&#10;                            onBackClick = { currentScreen = Screen.Units },&#10;                            onLec1Click = { currentScreen = Screen.Exercise }&#10;                        )&#10;&#10;                        Screen.Exercise -&gt; ExerciseScreen(&#10;                            onBackClick = { currentScreen = Screen.Lessons }&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun CoursesScreen(&#10;    modifier: Modifier = Modifier,&#10;    onFirstYearClick: () -&gt; Unit = {}&#10;) {&#10;    Box(&#10;        modifier = modifier&#10;            .fillMaxSize()&#10;            .background(Color.White)&#10;            .padding(horizontal = 16.dp, vertical = 24.dp),&#10;        contentAlignment = Alignment.TopStart&#10;    ) {&#10;        Card(&#10;            modifier = Modifier&#10;                .fillMaxWidth(),&#10;            shape = RoundedCornerShape(24.dp),&#10;            colors = CardDefaults.cardColors(&#10;                containerColor = Color(0xFFF5F5F5)&#10;            ),&#10;            elevation = CardDefaults.cardElevation(defaultElevation = 0.dp)&#10;        ) {&#10;            Column(modifier = Modifier.padding(16.dp)) {&#10;                Text(&#10;                    text = &quot;Cursos&quot;,&#10;                    style = MaterialTheme.typography.titleMedium.copy(fontWeight = FontWeight.SemiBold),&#10;                    color = Color.Black&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(16.dp))&#10;&#10;                CoursePill(&#10;                    text = &quot;Matemáticas - 1er Año&quot;,&#10;                    textColor = Color(0xFFD32F2F),&#10;                    onClick = onFirstYearClick&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(8.dp))&#10;&#10;                CoursePill(&#10;                    text = &quot;Matemáticas - 2do Año&quot;,&#10;                    onClick = { /* TODO: navigate to 2do Año */ }&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(8.dp))&#10;&#10;                CoursePill(&#10;                    text = &quot;Matemáticas - 3er Año&quot;,&#10;                    onClick = { /* TODO: navigate to 3er Año */ }&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun UnitsScreen(&#10;    modifier: Modifier = Modifier,&#10;    onBackClick: () -&gt; Unit = {},&#10;    onFirstUnitClick: () -&gt; Unit = {}&#10;) {&#10;    Box(&#10;        modifier = modifier&#10;            .fillMaxSize()&#10;            .background(Color.White)&#10;            .padding(horizontal = 16.dp, vertical = 24.dp),&#10;        contentAlignment = Alignment.TopStart&#10;    ) {&#10;        Card(&#10;            modifier = Modifier&#10;                .fillMaxWidth(),&#10;            shape = RoundedCornerShape(24.dp),&#10;            colors = CardDefaults.cardColors(&#10;                containerColor = Color(0xFFF5F5F5)&#10;            ),&#10;            elevation = CardDefaults.cardElevation(defaultElevation = 0.dp)&#10;        ) {&#10;            Column(modifier = Modifier.padding(16.dp)) {&#10;                Text(&#10;                    text = &quot;← Volver&quot;,&#10;                    style = MaterialTheme.typography.bodyMedium,&#10;                    color = Color(0xFF6200EE),&#10;                    modifier = Modifier&#10;                        .clickable(onClick = onBackClick)&#10;                        .padding(bottom = 16.dp)&#10;                )&#10;&#10;                Text(&#10;                    text = &quot;Unidades&quot;,&#10;                    style = MaterialTheme.typography.titleMedium.copy(fontWeight = FontWeight.SemiBold),&#10;                    color = Color.Black&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(16.dp))&#10;&#10;                CoursePill(&#10;                    text = &quot;Unidad 1 - N° Enteros&quot;,&#10;                    textColor = Color(0xFFD32F2F),&#10;                    onClick = onFirstUnitClick&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(8.dp))&#10;&#10;                CoursePill(&#10;                    text = &quot;Unidad 2 - Ecuaciones&quot;,&#10;                    onClick = { /* TODO: navigate to Unidad 2 */ }&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(8.dp))&#10;&#10;                CoursePill(&#10;                    text = &quot;Unidad 3 - Geometría&quot;,&#10;                    onClick = { /* TODO: navigate to Unidad 3 */ }&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun LessonsScreen(&#10;    modifier: Modifier = Modifier,&#10;    onBackClick: () -&gt; Unit = {},&#10;    onLec1Click: () -&gt; Unit = {}&#10;) {&#10;    Column(&#10;        modifier = modifier&#10;            .fillMaxSize()&#10;            .background(Color.White)&#10;            .padding(horizontal = 16.dp, vertical = 24.dp)&#10;    ) {&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.SpaceBetween,&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Text(&#10;                text = &quot;←&quot;,&#10;                fontSize = 24.sp,&#10;                modifier = Modifier.clickable(onClick = onBackClick)&#10;            )&#10;&#10;            // Right-side icon placeholder (stats icon) can be added later if desired&#10;        }&#10;&#10;        Spacer(modifier = Modifier.height(16.dp))&#10;&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .weight(1f),&#10;            contentAlignment = Alignment.Center&#10;        ) {&#10;            LessonPath(onLec1Click = onLec1Click)&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun LessonPath(&#10;    modifier: Modifier = Modifier,&#10;    onLec1Click: () -&gt; Unit = {}&#10;) {&#10;    // Normalized (0f..1f) positions along the path&#10;    val points = listOf(&#10;        Offset(0.5f, 0.1f),  // top start of vertical segment&#10;        Offset(0.5f, 0.25f), // corner for Lec 5&#10;        Offset(0.3f, 0.35f), // corner for Lec 4&#10;        Offset(0.55f, 0.5f), // corner for Lec 3&#10;        Offset(0.3f, 0.7f),  // corner for Lec 2&#10;        Offset(0.55f, 0.9f)  // corner for Lec 1&#10;    )&#10;&#10;    BoxWithConstraints(modifier = modifier.fillMaxSize()) {&#10;        val boxWidth = maxWidth&#10;        val boxHeight = maxHeight&#10;&#10;        // Draw the polyline&#10;        Canvas(modifier = Modifier.fillMaxSize()) {&#10;            val w = size.width&#10;            val h = size.height&#10;            val strokeWidth = 2.dp.toPx()&#10;&#10;            val absPoints = points.map { Offset(it.x * w, it.y * h) }&#10;&#10;            for (i in 0 until absPoints.lastIndex) {&#10;                drawLine(&#10;                    color = Color.Black,&#10;                    start = absPoints[i],&#10;                    end = absPoints[i + 1],&#10;                    strokeWidth = strokeWidth,&#10;                    cap = StrokeCap.Round&#10;                )&#10;            }&#10;        }&#10;&#10;        // Place lesson nodes centered at each vertex (skip very top index 0)&#10;        LessonNode(&quot;Lec 5&quot;, points[1], boxWidth, boxHeight)&#10;        LessonNode(&quot;Lec 4&quot;, points[2], boxWidth, boxHeight)&#10;        LessonNode(&quot;Lec 3&quot;, points[3], boxWidth, boxHeight)&#10;        LessonNode(&quot;Lec 2&quot;, points[4], boxWidth, boxHeight)&#10;        LessonNode(&quot;Lec 1&quot;, points[5], boxWidth, boxHeight, onClick = onLec1Click)&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun LessonNode(&#10;    label: String,&#10;    normalizedPos: Offset,&#10;    boxWidth: Dp,&#10;    boxHeight: Dp,&#10;    onClick: (() -&gt; Unit)? = null&#10;) {&#10;    val circleSize = 64.dp&#10;&#10;    Box(&#10;        modifier = Modifier&#10;            .offset(&#10;                x = boxWidth * normalizedPos.x - circleSize / 2,&#10;                y = boxHeight * normalizedPos.y - circleSize / 2&#10;            )&#10;            .size(circleSize)&#10;            .then(&#10;                if (onClick != null) {&#10;                    Modifier.clickable(onClick = onClick)&#10;                } else {&#10;                    Modifier&#10;                }&#10;            )&#10;    ) {&#10;        Surface(&#10;            shape = CircleShape,&#10;            color = Color(0xFFE0E0E0)&#10;        ) {&#10;            Box(&#10;                modifier = Modifier.fillMaxSize(),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                Text(text = label, style = MaterialTheme.typography.bodyMedium)&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun ExerciseScreen(&#10;    modifier: Modifier = Modifier,&#10;    onBackClick: () -&gt; Unit = {}&#10;) {&#10;    val correctAnswer = 5&#10;    var selectedAnswer by remember { mutableStateOf&lt;Int?&gt;(null) }&#10;    var lastWrongAnswer by remember { mutableStateOf&lt;Int?&gt;(null) }&#10;&#10;    val isCorrectAnswered = selectedAnswer == correctAnswer&#10;&#10;    // Reset wrong answer feedback after a short delay&#10;    LaunchedEffect(lastWrongAnswer) {&#10;        if (lastWrongAnswer != null) {&#10;            kotlinx.coroutines.delay(600)&#10;            lastWrongAnswer = null&#10;        }&#10;    }&#10;&#10;    Column(&#10;        modifier = modifier&#10;            .fillMaxSize()&#10;            .background(Color.White)&#10;            .padding(horizontal = 16.dp, vertical = 24.dp)&#10;    ) {&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.SpaceBetween,&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Text(&#10;                text = &quot;←&quot;,&#10;                fontSize = 24.sp,&#10;                modifier = Modifier.clickable(onClick = onBackClick)&#10;            )&#10;        }&#10;&#10;        Spacer(modifier = Modifier.height(24.dp))&#10;&#10;        Text(&#10;            text = &quot;Selecciona el recuadro correcto&quot;,&#10;            style = MaterialTheme.typography.titleMedium,&#10;            modifier = Modifier.align(Alignment.CenterHorizontally)&#10;        )&#10;&#10;        Spacer(modifier = Modifier.height(24.dp))&#10;&#10;        // Animate the equation when the correct answer is revealed&#10;        val equationScale by animateFloatAsState(&#10;            targetValue = if (isCorrectAnswered) 1.05f else 1f,&#10;            label = &quot;equationScale&quot;&#10;        )&#10;        val equationAlpha by animateFloatAsState(&#10;            targetValue = if (isCorrectAnswered) 1f else 0.9f,&#10;            label = &quot;equationAlpha&quot;&#10;        )&#10;&#10;        Surface(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .height(100.dp)&#10;                .graphicsLayer(&#10;                    scaleX = equationScale,&#10;                    scaleY = equationScale,&#10;                    alpha = equationAlpha&#10;                ),&#10;            shape = RoundedCornerShape(8.dp),&#10;            color = Color(0xFFE0E0E0),&#10;            shadowElevation = 0.dp&#10;        ) {&#10;            Box(&#10;                modifier = Modifier.fillMaxSize(),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                Text(&#10;                    text = if (isCorrectAnswered) &quot;2 + 3 = 5&quot; else &quot;2 + 3 = ?&quot;,&#10;                    style = MaterialTheme.typography.titleLarge&#10;                )&#10;            }&#10;        }&#10;&#10;        Spacer(modifier = Modifier.height(32.dp))&#10;&#10;        val answers = listOf(5, 6, 7, 8)&#10;&#10;        answers.forEach { value -&gt;&#10;            val isCorrect = value == correctAnswer&#10;            val isSelectedCorrect = selectedAnswer == value &amp;&amp; isCorrect&#10;            val isWrong = lastWrongAnswer == value&#10;&#10;            AnswerButton(&#10;                value = value,&#10;                isCorrectSelected = isSelectedCorrect,&#10;                isWrong = isWrong,&#10;                enabled = !isCorrectAnswered&#10;            ) {&#10;                if (isCorrectAnswered) return@AnswerButton&#10;&#10;                if (isCorrect) {&#10;                    selectedAnswer = value&#10;                } else {&#10;                    lastWrongAnswer = value&#10;                }&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(12.dp))&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun AnswerButton(&#10;    value: Int,&#10;    isCorrectSelected: Boolean,&#10;    isWrong: Boolean,&#10;    enabled: Boolean,&#10;    onClick: () -&gt; Unit&#10;) {&#10;    val baseColor = Color(0xFF333333)&#10;    val targetColor = when {&#10;        isCorrectSelected -&gt; Color(0xFF4CAF50)&#10;        isWrong -&gt; Color(0xFFF44336)&#10;        else -&gt; baseColor&#10;    }&#10;&#10;    val backgroundColor by animateColorAsState(targetValue = targetColor, label = &quot;answerColor&quot;)&#10;&#10;    val targetScale = if (isCorrectSelected) 1.05f else 1f&#10;    val scale by animateFloatAsState(targetValue = targetScale, label = &quot;answerScale&quot;)&#10;&#10;    Surface(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .height(52.dp)&#10;            .graphicsLayer(scaleX = scale, scaleY = scale)&#10;            .then(&#10;                if (enabled) Modifier.clickable(onClick = onClick) else Modifier&#10;            ),&#10;        shape = RoundedCornerShape(8.dp),&#10;        color = backgroundColor,&#10;        shadowElevation = 0.dp&#10;    ) {&#10;        Box(&#10;            modifier = Modifier.fillMaxSize(),&#10;            contentAlignment = Alignment.Center&#10;        ) {&#10;            Text(&#10;                text = value.toString(),&#10;                style = MaterialTheme.typography.bodyLarge,&#10;                color = Color.White&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun CoursePill(&#10;    text: String,&#10;    modifier: Modifier = Modifier,&#10;    textColor: Color = Color.Black,&#10;    onClick: () -&gt; Unit&#10;) {&#10;    Surface(&#10;        modifier = modifier&#10;            .fillMaxWidth()&#10;            .heightIn(min = 40.dp)&#10;            .clickable(onClick = onClick),&#10;        shape = CircleShape,&#10;        color = Color(0xFFE0E0E0),&#10;        shadowElevation = 0.dp&#10;    ) {&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(horizontal = 16.dp, vertical = 10.dp),&#10;            contentAlignment = Alignment.Center&#10;        ) {&#10;            Text(&#10;                text = text,&#10;                style = MaterialTheme.typography.bodyMedium,&#10;                color = textColor&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Preview(showBackground = true, showSystemUi = true)&#10;@Composable&#10;fun CoursesScreenPreview() {&#10;    PrototipoProyectoFinalTheme {&#10;        CoursesScreen()&#10;    }&#10;}&#10;&#10;@Preview(showBackground = true, showSystemUi = true)&#10;@Composable&#10;fun UnitsScreenPreview() {&#10;    PrototipoProyectoFinalTheme {&#10;        UnitsScreen()&#10;    }&#10;}&#10;&#10;@Preview(showBackground = true, showSystemUi = true)&#10;@Composable&#10;fun LessonsScreenPreview() {&#10;    PrototipoProyectoFinalTheme {&#10;        LessonsScreen()&#10;    }&#10;}&#10;&#10;@Preview(showBackground = true, showSystemUi = true)&#10;@Composable&#10;fun ExerciseScreenPreview() {&#10;    PrototipoProyectoFinalTheme {&#10;        ExerciseScreen()&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>